name: kubectl-kruise config set-credentials
synopsis: Set a user entry in kubeconfig
description: "Set a user entry in kubeconfig.\n\n Specifying a name that already exists will merge new fields on top of existing values.\n\n  Client-certificate flags:\n  --client-certificate=certfile --client-key=keyfile\n  \n  Bearer token flags:\n    --token=bearer_token\n  \n  Basic auth flags:\n    --username=basic_user --password=basic_password\n  \n Bearer token and basic auth are mutually exclusive."
usage: kubectl-kruise config set-credentials NAME [--client-certificate=path/to/certfile] [--client-key=path/to/keyfile] [--token=bearer_token] [--username=basic_user] [--password=basic_password] [--auth-provider=provider_name] [--auth-provider-arg=key=value] [--exec-command=exec_command] [--exec-api-version=exec_api_version] [--exec-arg=arg] [--exec-env=key=value]
options:
    - name: auth-provider
      usage: Auth provider for the user entry in kubeconfig
    - name: auth-provider-arg
      default_value: '[]'
      usage: '''key=value'' arguments for the auth provider'
    - name: client-certificate
      usage: |
        Path to client-certificate file for the user entry in kubeconfig
    - name: client-key
      usage: Path to client-key file for the user entry in kubeconfig
    - name: embed-certs
      default_value: "false"
      usage: Embed client cert/key for the user entry in kubeconfig
    - name: exec-api-version
      usage: |
        API version of the exec credential plugin for the user entry in kubeconfig
    - name: exec-arg
      default_value: '[]'
      usage: |
        New arguments for the exec credential plugin command for the user entry in kubeconfig
    - name: exec-command
      usage: |
        Command for the exec credential plugin for the user entry in kubeconfig
    - name: exec-env
      default_value: '[]'
      usage: |
        'key=value' environment values for the exec credential plugin
    - name: help
      shorthand: h
      default_value: "false"
      usage: help for set-credentials
    - name: password
      usage: password for the user entry in kubeconfig
    - name: token
      usage: token for the user entry in kubeconfig
    - name: username
      usage: username for the user entry in kubeconfig
inherited_options:
    - name: as
      usage: |
        Username to impersonate for the operation. User could be a regular user or a service account in a namespace.
    - name: as-group
      default_value: '[]'
      usage: |
        Group to impersonate for the operation, this flag can be repeated to specify multiple groups.
    - name: as-uid
      usage: UID to impersonate for the operation.
    - name: cache-dir
      default_value: ${HOME}/.kube/cache
      usage: Default cache directory
    - name: certificate-authority
      usage: Path to a cert file for the certificate authority
    - name: cluster
      usage: The name of the kubeconfig cluster to use
    - name: context
      usage: The name of the kubeconfig context to use
    - name: insecure-skip-tls-verify
      default_value: "false"
      usage: |
        If true, the server's certificate will not be checked for validity. This will make your HTTPS connections insecure
    - name: kubeconfig
      usage: use a particular kubeconfig file
    - name: match-server-version
      default_value: "false"
      usage: Require server version to match client version
    - name: namespace
      shorthand: "n"
      usage: If present, the namespace scope for this CLI request
    - name: profile
      default_value: none
      usage: |
        Name of profile to capture. One of (none|cpu|heap|goroutine|threadcreate|block|mutex)
    - name: profile-output
      default_value: profile.pprof
      usage: Name of the file to write the profile to
    - name: request-timeout
      default_value: "0"
      usage: |
        The length of time to wait before giving up on a single server request. Non-zero values should contain a corresponding time unit (e.g. 1s, 2m, 3h). A value of zero means don't timeout requests.
    - name: server
      shorthand: s
      usage: The address and port of the Kubernetes API server
    - name: tls-server-name
      usage: |
        Server name to use for server certificate validation. If it is not provided, the hostname used to contact the server is used
    - name: user
      usage: The name of the kubeconfig user to use
    - name: warnings-as-errors
      default_value: "false"
      usage: |
        Treat warnings received from the server as errors and exit with a non-zero exit code
example: "  # Set only the \"client-key\" field on the \"cluster-admin\"\n  # entry, without touching other values\n  kubectl config set-credentials cluster-admin --client-key=~/.kube/admin.key\n  \n  # Set basic auth for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --username=admin --password=uXFGweU9l35qcif\n  \n  # Embed client certificate data in the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --client-certificate=~/.kube/admin.crt --embed-certs=true\n  \n  # Enable the Google Compute Platform auth provider for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --auth-provider=gcp\n  \n  # Enable the OpenID Connect auth provider for the \"cluster-admin\" entry with additional args\n  kubectl config set-credentials cluster-admin --auth-provider=oidc --auth-provider-arg=client-id=foo --auth-provider-arg=client-secret=bar\n  \n  # Remove the \"client-secret\" config value for the OpenID Connect auth provider for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --auth-provider=oidc --auth-provider-arg=client-secret-\n  \n  # Enable new exec auth plugin for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --exec-command=/path/to/the/executable --exec-api-version=client.authentication.k8s.io/v1beta1\n  \n  # Define new exec auth plugin args for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --exec-arg=arg1 --exec-arg=arg2\n  \n  # Create or update exec auth plugin environment variables for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --exec-env=key1=val1 --exec-env=key2=val2\n  \n  # Remove exec auth plugin environment variables for the \"cluster-admin\" entry\n  kubectl config set-credentials cluster-admin --exec-env=var-to-remove-"
see_also:
    - kubectl-kruise config - Modify kubeconfig files
